<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stary Sky</title>
<style>
body{
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: black;
  
}
canvas {
  // border: 2px solid #000;
  background-color: black;
  width:100vw;
  height:100vh;
}
</style>
</head>

<body>
<canvas id="canvas" width="360" height="240"></canvas>
<script>
stars=[];
init=false
function start(){
  help=true;
  for(let s = 0; s < 200; s++){
    temp={
      x:canvas.width/2,
      y:canvas.height/2,
      dx:random(2)-1,
      dy:random(2)-1,
      radius:random(2),
      draw:function(){
        draw_set_color(255,255,255);
        draw_circle(this.x, this.y, this.radius, false)
      },
      loop:function(){
        if(this.alpha<1){this.alpha+=0.01}
        if(this.alpha>1){this.alpha=1}
        this.x+=this.dx;
        this.y+=this.dy;
      if(this.x>canvas.width){this.x=canvas.width/2;this.y=canvas.height/2}
      if(this.x<0){this.x=canvas.width/2;this.y=canvas.height/2}
      if(this.y>canvas.height){this.x=canvas.width/2;this.y=canvas.height/2}
      if(this.y<0){this.x=canvas.width/2;this.y=canvas.height/2}
        this.draw();
      }
    }
    stars.push(temp)
  }
setTimeout(function(){init=true},100);
}
function rand_around(dis){
  let direction = irandom(360);
  let x = canvas.width/2+lengthdir_x(dis, direction);
  let y = canvas.height/2+lengthdir_y(dis, direction);
  return{x:x,y:y,dir:direction}
}
function loop(){
for(let s = 0; s < stars.length; s++){stars[s].loop()}
  let al = 1
  draw_set_color(0,0,0);
  for(let r=20;r<50;r+=2){
    tempAlpha = al-=0.05;
    if(tempAlpha<0){tempAlpha=0}
  draw_set_alpha(tempAlpha)
  draw_circle(canvas.width/2, canvas.height/2, r, false)
  }
  draw_set_alpha(1)
    if(help){
    draw_set_color(255,255,255)
      draw_centered_text(canvas.width/2,canvas.height/2, 'touch for fullscreen', 24, 700) 
  }
 if(mouse_check_pressed()){help=false;requestFullscreen()} 
}

function draw(){

}

</script>
<script type='text/javascript' src='data:application/x-javascript;base64,Ly9taXNjCm1hc3Rlcl9hbHBoYSA9IDE7dGltZVNoaWZ0PTAsRlBTPVtdLGZwcz0wLHJ1bj10cnVlLGZ1bGxzY3JlZW49ZmFsc2U7Ci8vIG1hdGg6Cm1heCA9IE1hdGgubWF4LCBtaW4gPSBNYXRoLm1pbiwgcm91bmQgPSBNYXRoLnJvdW5kLCBmbG9vciA9IE1hdGguZmxvb3IsIGNlaWwgPSBNYXRoLmNlaWwsCnNpbiA9IE1hdGguc2luLCBjb3MgPSBNYXRoLmNvcywgc3FydCA9IE1hdGguc3FydCwgdGFuID0gTWF0aC50YW4sIHJhbmQgPSBNYXRoLnJhbmRvbSwKYXJjY29zID0gTWF0aC5hY29zLCBhcmNzaW4gPSBNYXRoLmFzaW4sIGFyY3RhbiA9IE1hdGguYXRhbiwgYXJjdGFuMiA9IE1hdGguYXRhbjIsCnR1X3IyZCA9IC0xODAgLyBNYXRoLlBJLCB0dV9kMnIgPSBNYXRoLlBJIC8gLTE4MCwgdHVfMnBpID0gTWF0aC5QSSAqIDIsCi8vIGkvbyBjb25zdGFudHM6CnZrXzAgPSA0OCwgdmtfMSA9IDQ5LCB2a18yID0gNTAsIHZrXzMgPSA1MSwgdmtfNCA9IDUyLCB2a181ID0gNTMsIHZrXzYgPSA1NCwKdmtfNyA9IDU1LCB2a184ID0gNTYsIHZrXzkgPSA1NywgdmtfYSA9IDY1LCB2a19hZGQgPSAxMDcsIHZrX2FsdCA9IDE4LCB2a19iID0gNjYsCnZrX2JhY2tzcGFjZSA9IDgsIHZrX2MgPSA2NywgdmtfY3RybCA9IDE3LCB2a19kID0gNjgsIHZrX2RlY2ltYWwgPSAxMTAsIHZrX2RlbGV0ZSA9IDQ2LAp2a19kaXZpZGUgPSAxMTEsIHZrX2Rvd24gPSA0MCwgdmtfZSA9IDY5LCB2a19lbmQgPSAzNSwgdmtfZW50ZXIgPSAxMywgdmtfZXNjYXBlID0gMjcsCnZrX2YxID0gMTEyLCB2a19mMiA9IDExMywgdmtfZjMgPSAxMTQsIHZrX2Y0ID0gMTE1LCB2a19mNSA9IDExNiwgdmtfZjYgPSAxMTcsCnZrX2Y3ID0gMTE4LCB2a19mOCA9IDExOSwgdmtfZjkgPSAxMjAsIHZrX2YxMCA9IDEyMSwgdmtfZjExID0gMTIyLCB2a19mMTIgPSAxMjMsCnZrX2cgPSA3MSwgdmtfaCA9IDcyLCB2a19ob21lID0gMzYsIHZrX2YgPSA3MCwgdmtfaSA9IDczLCB2a19pbnNlcnQgPSA0NSwgdmtfaiA9IDc0LCB2a19rID0gNzUsCnZrX2wgPSA3NiwgdmtfbGVmdCA9IDM3LCB2a19tID0gNzcsIHZrX211bHRpcGx5ID0gMTA2LCB2a19uID0gNzgsIHZrX251bTAgPSA5NiwgdmtfbnVtMSA9IDk3LAp2a19udW0yID0gOTgsIHZrX251bTMgPSA5OSwgdmtfbnVtNCA9IDEwMCwgdmtfbnVtNSA9IDEwMSwgdmtfbnVtNiA9IDEwMiwgdmtfbnVtNyA9IDEwMywKdmtfbnVtOCA9IDEwNCwgdmtfbnVtOSA9IDEwNSwgdmtfbyA9IDc5LCB2a19wID0gODAsIHZrX3BhZ2Vkb3duID0gMzQsIHZrX3BhZ2V1cCA9IDMzLAp2a19wYXVzZSA9IDE5LCB2a19xID0gODEsIHZrX3IgPSA4MiwgdmtfcmlnaHQgPSAzOSwgdmtfcyA9IDgzLCB2a19zaGlmdCA9IDE2LCB2a19zcGFjZSA9IDMyLAp2a19zdWJ0cmFjdCA9IDEwOSwgdmtfdCA9IDg0LCB2a190YWIgPSA5LCB2a191ID0gODUsIHZrX3VwID0gMzgsIHZrX3YgPSA4NiwgdmtfdyA9IDg3LAp2a194ID0gODgsIHZrX3kgPSA4OSwgdmtfeiA9IDkwLAovLyBpL28gdmFyaWFibGVzOgptb3VzZV94ID0gbW91c2VfeSA9IDAsIG1vdXNlX2Rvd24gPSBtb3VzZV9wcmVzc2VkID0gbW91c2VfcmVsZWFzZWQgPSBmYWxzZSx3aGVlbERpcj0wLAprZXlfZG93biA9IFtdLCBrZXlfcHJlc3NlZCA9IFtdLCBrZXlfcmVsZWFzZWQgPSBbXSxhbGxfa2V5c19wcmVzc2VkID0gW10sYWxsX2tleXNfcmVsZWFzZWQgPSBbXTsKdmtfYWxsX2tleXMgPSBbXTsKZnVuY3Rpb24gbWFrZV9zb3VuZChfc3JjLGJ1ZmZlcnMpewogIGlmIChfc3JjICE9ICcnKSB7CiAgICBsZXQgdGVtcCA9IFtdOwogICAgZm9yKGxldCBpID0gMDsgaSA8IGJ1ZmZlcnM7IGkrKyApewogICAgICB0ZW1wW2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTsKICAgICAgdGVtcFtpXS5zZXRBdHRyaWJ1dGUoJ3NyYycsIF9zcmMpOwogICAgICAgIHRlbXBbaV0ub25lcnJvciA9IGZ1bmN0aW9uKCkgewogICAgYWxlcnQoIkVycm9yOiBGYWlsZWQgdG8gbG9hZDogIitfc3JjKTsKfTsKICAgIH0KICAgIHJldHVybiB0ZW1wOwogIH0KfQpmdW5jdGlvbiBwbGF5KHNvdW5kKXsKICAvLy5kdXJhdGlvbiA+IDAgJiYgISAucGF1c2VkIG1lYW5zIGl0cyBwbGF5aW5nCiAgZm9yKGxldCBpID0gMCA7IGkgPCBzb3VuZC5sZW5ndGggOyBpKyspewogICAgaWYoc291bmRbaV0uZHVyYXRpb24gPiAwICYmICFzb3VuZFtpXS5wYXVzZWQpewogICAgfWVsc2V7CiAgICAgIHNvdW5kW2ldLmN1cnJlbnRUaW1lID0gMDsKICAgICAgc291bmRbaV0ucGxheSgpCiAgICAgIGk9MTAwMDsKICAgIH0KICB9Cn0KLy9yZXF1ZXN0IGZ1bGwgc2NyZWVuCmZ1bmN0aW9uIHJlcXVlc3RGdWxsc2NyZWVuKGVsZW1lbnQpIHtpZiAoIWVsZW1lbnQpIHtlbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O31pZiAoZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbikge2VsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4oKTt9IGVsc2UgaWYgKGVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7fSBlbHNlIGlmIChlbGVtZW50Lm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHtlbGVtZW50Lm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTt9IGVsc2UgaWYgKGVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuKCk7fSBlbHNlIHtjb25zb2xlLmVycm9yKCJGdWxsc2NyZWVuIEFQSSBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3Nlci4iKTt9fQovLyBkZXRlY3RzIGZ1bGxzY3JlZW4gY2hhbmdlCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBmdW5jdGlvbigpIHsKICBpZiAoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpIHsKICAgIGZ1bGxzY3JlZW49dHJ1ZTsKICB9IGVsc2UgewogICAgZnVsbHNjcmVlbj1mYWxzZTsKICB9CiAgCn0pOwpmdW5jdGlvbiBkcmF3V3JhcHBlZFRleHQodGV4dCwgeCwgeSwgbWF4V2lkdGgsIGxpbmVIZWlnaHQsZm9udFNpemUsIHdlaWdodCl7CiAgY29uc3Qgd29yZHMgPSB0ZXh0LnNwbGl0KCcgJyk7CiAgbGV0IGxpbmUgPSAnJzsKICBsZXQgY3VycmVudFkgPSB5OwogIC8vIFNldCBmb250IGFuZCB0ZXh0IHN0eWxlCiAgaWYod2VpZ2h0PT1udWxsKXt3ZWlnaHQ9NDAwfQogIGN0eC5mb250ID0gd2VpZ2h0KyIgIitmb250U2l6ZSsicHggSGVsdmV0aWNhIjsKICBmb3IgKGxldCB3b3JkIG9mIHdvcmRzKSB7CiAgICBjb25zdCB0ZXN0TGluZSA9IGxpbmUgKyAobGluZSA/ICcgJyA6ICcnKSArIHdvcmQ7CiAgICBjb25zdCB0ZXN0V2lkdGggPSBjdHgubWVhc3VyZVRleHQodGVzdExpbmUpLndpZHRoOwogICAgCiAgICBpZiAodGVzdFdpZHRoID4gbWF4V2lkdGggJiYgbGluZSkgewogICAgICAvLyBEcmF3IHRoZSBjdXJyZW50IGxpbmUgaWYgaXQgZXhjZWVkcyBtYXhXaWR0aAogICAgICBjdHguZmlsbFRleHQobGluZSwgeCwgY3VycmVudFkpOwogICAgICBsaW5lID0gd29yZDsgLy8gU3RhcnQgYSBuZXcgbGluZSB3aXRoIHRoZSBjdXJyZW50IHdvcmQKICAgICAgY3VycmVudFkgKz0gbGluZUhlaWdodDsKICAgIH0gZWxzZSB7CiAgICAgIGxpbmUgPSB0ZXN0TGluZTsgLy8gQWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmUKICAgIH0KICB9CiAgCiAgLy8gRHJhdyB0aGUgbGFzdCBsaW5lCiAgaWYgKGxpbmUpIHsKICAgIGN0eC5maWxsVGV4dChsaW5lLCB4LCBjdXJyZW50WSk7CiAgfQp9CmZ1bmN0aW9uIHRleHRfZml0KHRleHQsd2lkdGgpewogIGZvcihsZXQgaSA9IDY7IGk8MTIwOyBpKyspey8vIHN0YXRpbGVzUmVjdC5zcHJpdGVydCB3YXkgc21hbGwKICAgIGN0eC5mb250ID0gaSsncHggQXJpYWwnOyAvLyBzZXQgZm9udCBmb3IgdGVzdGluZwogICAgaWYoY3R4Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoPj13aWR0aCl7IC8vIGNoZWNrcyBpZiB0ZXh0IGRvZXNudCBmaXQgYm91bmRzCiAgICAgIHJldHVybiBpLTE7IC8vIG91dHB1dHMgcHJldmlvdXMgaSBzaW5jZSBpdCBwcm9iYWJseSBmaXQKICAgIH0KICB9Cn0KLy8gZHJhdyB0ZXh0OgpmdW5jdGlvbiBkcmF3X3RleHQoeCwgeSwgdGV4dCwgc2l6ZSx3ZWlnaHQpIHsKICBpZih3ZWlnaHQ9PW51bGwpe3dlaWdodD00MDB9CiAgY3R4Lmdsb2JhbEFscGhhID1tYXN0ZXJfYWxwaGE7CmlmKHNpemU9PW51bGwpe3NpemU9MjR9CiAgY3R4LmZvbnQgPSB3ZWlnaHQrIiAiK3NpemUrInB4IEhlbHZldGljYSI7CiAgY3R4LnRleHRBbGlnbiA9ICJsZWZ0IjsKICBjdHgudGV4dEJhc2VsaW5lID0gInRvcCI7CiAgY3R4LmZpbGxUZXh0KHRleHQsIHgsIHkpOwp9CmZ1bmN0aW9uIGRyYXdfY2VudGVyZWRfdGV4dCh4LCB5LCB0ZXh0LCBzaXplLCB3ZWlnaHQpIHsKICBpZih3ZWlnaHQ9PW51bGwpe3dlaWdodD00MDB9CiAgY3R4Lmdsb2JhbEFscGhhID1tYXN0ZXJfYWxwaGE7CmlmKHNpemU9PW51bGwpe3NpemU9MjR9CiAgY3R4LmZvbnQgPSB3ZWlnaHQrIiAiK3NpemUrInB4IEhlbHZldGljYSI7CiAgY3R4LnRleHRBbGlnbiA9ICJjZW50ZXIiOwogIGN0eC50ZXh0QmFzZWxpbmUgPSAibWlkZGxlIjsKICBjdHguZmlsbFRleHQodGV4dCwgeCwgeSk7Cn0KZnVuY3Rpb24gZHJhd19zZXRfaW1hZ2UoZmlsZSl7CiAgbGV0IHRlbXAgPSBuZXcgSW1hZ2UoKTsKICB0ZW1wLnNyYyA9IGZpbGU7CiAgdGVtcC5sb2FkZWQ9ZmFsc2U7CiAgdGVtcC5vbmVycm9yID0gZnVuY3Rpb24oKSB7CiAgICBhbGVydCgiRXJyb3I6IEZhaWxlZCB0byBsb2FkOiAiK2ZpbGUpOwp9Owp0ZW1wLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHt0ZW1wLmxvYWRlZD10cnVlfTsKICByZXR1cm4gdGVtcDsKfQpmdW5jdGlvbiBkcmF3X3N0cmlwKHgseSxzdHJpcCxmcmFtZSx3LGgscm90LG94LG95KXsKaWYgKHc9PW51bGwpe3c9c3RyaXAud2lkdGh9CmlmIChoPT1udWxsKXtoPXN0cmlwLmhlaWdodH0KaWYocm90PT1udWxsKXtyb3Q9MH0KaWYob3g9PW51bGwpe294PTB9CmlmKG95PT1udWxsKXtveT0wfQogIGlmIChzdHJpcC5sb2FkZWQ9PWZhbHNlKSByZXR1cm47CiAgbGV0IGZyYW1lcyA9IHN0cmlwLndpZHRoL3N0cmlwLmhlaWdodAogIGlmKGZyYW1lPj1mcmFtZXMpIGZyYW1lPWZyYW1lcy0xIC8vIGxvY2tzIGl0IGF0IGxhc3QgZnJhbWUgaWYgYXNrZWQgdG8gZHJhdyBtb3JlIGZyYW1lcyB0aGFuIGl0IGhhcwogIGRyYXdfaW1hZ2Uoc3RyaXAseCx5LHcsaCxyb3Qsb3gsb3ksKHN0cmlwLndpZHRoL2ZyYW1lcykqZnJhbWUsMCxzdHJpcC53aWR0aC9mcmFtZXMsc3RyaXAuaGVpZ2h0KQp9CmZ1bmN0aW9uIGRyYXdfaW1hZ2UoaW1nLHgseSx3LGgscm90LG94LG95LHNvdXJjZV94LHNvdXJjZV95LHNvdXJjZV93LHNvdXJjZV9oKXsKaWYodz09bnVsbCl7dz1pbWcud2lkdGh9CmlmKGg9PW51bGwpe2g9aW1nLmhlaWdodH0KaWYoc291cmNlX3g9PW51bGwpe3NvdXJjZV94PTB9CmlmKHNvdXJjZV95PT1udWxsKXtzb3VyY2VfeT0wfQppZihzb3VyY2Vfdz09bnVsbCl7c291cmNlX3c9aW1nLndpZHRofQppZihzb3VyY2VfaD09bnVsbCl7c291cmNlX2g9aW1nLmhlaWdodH0KICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhcyIpOwogIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICBjdHguZ2xvYmFsQWxwaGEgPW1hc3Rlcl9hbHBoYTsKICBpZihyb3QhPW51bGwpewogICAgY3R4LnNhdmUoKTsKICAgIC8vY3R4LnRyYW5zbGF0ZSh4K294LHkrb3kpOwogICAgY3R4LnRyYW5zbGF0ZSh4LHkpOwogICAgaWYocm90IT0wKXsKICAgIGN0eC5yb3RhdGUocm90Kk1hdGguUEkvMTgwKTsvL3R1X3IyZCA9IC0xODAgLyBNYXRoLlBJLCB0dV9kMnIgPSBNYXRoLlBJIC8gLTE4MAogICAgfQogICAgY3R4LmRyYXdJbWFnZShpbWcsc291cmNlX3gsIHNvdXJjZV95LCBzb3VyY2Vfdywgc291cmNlX2gsIC1veCwtb3ksdyxoKTsKICAgIGN0eC5yZXN0b3JlKCkKICB9ZWxzZXsKICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCB4LCB5LCB3LCBoKTsKICB9Cn0KLy8gZHJhdyBzaGFwZXM6CmZ1bmN0aW9uIGRyYXdfcmVjdGFuZ2xlKHgsIHksIHcsIGgsb3V0bGluZSxyb3Qsb3gsb3kpIHsKICBjdHguZ2xvYmFsQWxwaGEgPW1hc3Rlcl9hbHBoYTsKICBpZihyb3QhPW51bGwpewogICAgY3R4LnNhdmUoKTsKICAgIGN0eC50cmFuc2xhdGUoeCx5KTsKICAgIGN0eC5yb3RhdGUocm90Kk1hdGguUEkvMTgwKTsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGlmIChvdXRsaW5lKSBjdHguc3Ryb2tlUmVjdCggLW94LC1veSx3LGgpOwogICAgZWxzZSBjdHguZmlsbFJlY3QoIC1veCwtb3ksdyxoICk7CiAgICBjdHguY2xvc2VQYXRoKCk7CiAgICBjdHgucmVzdG9yZSgpCiAgfWVsc2V7CiAgICBjdHguYmVnaW5QYXRoKCk7CiAgICBpZiAob3V0bGluZSkgY3R4LnN0cm9rZVJlY3QoIHgseSx3LGgpOwogICAgZWxzZSBjdHguZmlsbFJlY3QoIHgseSx3LGggKTsKICAgIGN0eC5jbG9zZVBhdGgoKQogIH0KfQpmdW5jdGlvbiBkcmF3X2NpcmNsZSh4LCB5LCByLCBvdXRsaW5lKSB7CiAgY3R4Lmdsb2JhbEFscGhhID1tYXN0ZXJfYWxwaGE7CiAgY3R4LmJlZ2luUGF0aCgpOwogIGN0eC5hcmMoIHgseSxyLCAwLCB0dV8ycGksIHRydWUgKTsKICBjdHguY2xvc2VQYXRoKCk7CiAgIW91dGxpbmUgPyBjdHguZmlsbCgpIDogY3R4LnN0cm9rZSgpOwp9CgpmdW5jdGlvbiBkcmF3X2xpbmUoeDEsIHkxLCB4MiwgeTIpIHsKICBjdHguZ2xvYmFsQWxwaGEgPW1hc3Rlcl9hbHBoYTsKICBjdHguYmVnaW5QYXRoKCk7CiAgY3R4Lm1vdmVUbyggeDEsIHkxKTsKICBjdHgubGluZVRvKCB4MiwgeTIpOwogIGN0eC5jbG9zZVBhdGgoKTsKICBjdHguc3Ryb2tlKCk7Cn0KLy8gZHJhdyBzZXR0aW5nczoKZnVuY3Rpb24gZHJhd19zZXRfYWxwaGEoX2FscGhhKSB7CiAgbWFzdGVyX2FscGhhID0gX2FscGhhOwp9CmZ1bmN0aW9uIGRyYXdfc2V0X2NvbG9yKHIsZyxiKSB7CiAgLy8icmdiKDE1NSwgMTAyLCAxMDIpIjsKICBjdHguZmlsbFN0eWxlID0gInJnYigiK3IrIiwiK2crIiwiK2IrIikiOwogIGN0eC5zdHJva2VTdHlsZSA9ICJyZ2IoIityKyIsIitnKyIsIitiKyIpIjsKfQpmdW5jdGlvbiBkcmF3X3NldF9saW5ld2lkdGgod2lkdGgpIHsgY3R4LmxpbmVXaWR0aCA9IHdpZHRoOyB9CmZ1bmN0aW9uIGRyYXdfc2V0X2xpbmVkYXNoKGRhc2gpIHsgY3R4LnNldExpbmVEYXNoKGRhc2gpOyB9CmZ1bmN0aW9uIHNob3dfbW91c2UoKSB7IGNhbnZhcy5zdHlsZS5jdXJzb3IgPSAiZGVmYXVsdCI7IH0KZnVuY3Rpb24gaGlkZV9tb3VzZSgpIHsgY2FudmFzLnN0eWxlLmN1cnNvciA9ICJub25lIjsgfQovLyBtaW5pbWFsIG1hdGg6CmZ1bmN0aW9uIGF2ZXJhZ2UobnVtcyl7bGV0IG91dHB1dCA9IDA7Zm9yKGxldCBpID0gMDsgaSA8IG51bXMubGVuZ3RoOyBpKyspe291dHB1dCs9bnVtc1tpXX1yZXR1cm4gZmxvb3Iob3V0cHV0L251bXMubGVuZ3RoKX0KZnVuY3Rpb24gYWJzKF92YWx1ZSkgeyByZXR1cm4gX3ZhbHVlIDwgMCA/IC1fdmFsdWUgOiBfdmFsdWU7IH0KZnVuY3Rpb24gc2lnbihfdmFsdWUpIHsgcmV0dXJuIF92YWx1ZSA+IDAgPyAxIDogX3ZhbHVlIDwgMCA/IC0xIDogMDsgfQpmdW5jdGlvbiBjaG9vc2UoKSB7IHJldHVybiBhcmd1bWVudHNbfn4oTWF0aC5yYW5kb20oKSAqIGFyZ3VtZW50cy5sZW5ndGgpXTsgfQpmdW5jdGlvbiByYW5kb20oX3ZhbHVlKSB7IHJldHVybiBNYXRoLnJhbmRvbSgpICogX3ZhbHVlOyB9CmZ1bmN0aW9uIGlyYW5kb20oX3ZhbHVlKSB7IHJldHVybiB+fihNYXRoLnJhbmRvbSgpICogX3ZhbHVlICsgMSk7IH0KZnVuY3Rpb24gZmxvb3IoX3ZhbHVlKSB7IHJldHVybiBNYXRoLmZsb29yKF92YWx1ZSk7IH0KZnVuY3Rpb24gcm91bmQoX3ZhbHVlKSB7IHJldHVybiBNYXRoLnJvdW5kKF92YWx1ZSk7IH0KZnVuY3Rpb24gc25hcChfdmFsdWUsZ3JpZCkgIHsgcmV0dXJuIGZsb29yKF92YWx1ZS9ncmlkKSpncmlkfQpmdW5jdGlvbiBsZXJwKGlucCx0YXJnZXQscmF0ZSl7cmV0dXJuIGlucCsodGFyZ2V0LWlucCkqcmF0ZTt9OwpmdW5jdGlvbiBlYXNlSW4oaW5wLHRhcmdldCxyYXRlKXtsZXQgZGlmZj10YXJnZXQtaW5wO3JldHVybiBpbnArZGlmZiooTWF0aC5wb3cocmF0ZSwyKSk7fTsKZnVuY3Rpb24gZWFzZU91dChpbnAsdGFyZ2V0LHJhdGUpe2xldCBkaWZmPXRhcmdldC1pbnA7cmV0dXJuIGlucCtkaWZmKigxIC1NYXRoLmV4cCgtcmF0ZSkpO307CmZ1bmN0aW9uIGNsYW1wKHZhbHVlLCBtaW4sIG1heCkge3JldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTt9CmZ1bmN0aW9uIGluc2lkZShweCwgcHksIHJ4LCByeSwgd2lkdGgsIGhlaWdodCwgYW5nbGUsIG9yaWdpblgsIG9yaWdpblkpIHtjb25zdCByYWRpYW5zID0gKGFuZ2xlICogTWF0aC5QSSkgLyAxODA7ZnVuY3Rpb24gcm90YXRlUG9pbnQoY3gsIGN5LCB4LCB5LCByYWRpYW5zKSB7Y29uc3QgY29zID0gTWF0aC5jb3MocmFkaWFucyk7Y29uc3Qgc2luID0gTWF0aC5zaW4ocmFkaWFucyk7Y29uc3QgZHggPSB4IC0gY3g7Y29uc3QgZHkgPSB5IC0gY3k7cmV0dXJuIHt4OiBjeCArIGR4ICogY29zIC0gZHkgKiBzaW4seTogY3kgKyBkeCAqIHNpbiArIGR5ICogY29zLH07fWNvbnN0IGNlbnRlclggPSByeCArIG9yaWdpblg7Y29uc3QgY2VudGVyWSA9IHJ5ICsgb3JpZ2luWTtjb25zdCBjb3JuZXJzID0gW3JvdGF0ZVBvaW50KGNlbnRlclgsIGNlbnRlclksIHJ4LCByeSwgcmFkaWFucykscm90YXRlUG9pbnQoY2VudGVyWCwgY2VudGVyWSwgcnggKyB3aWR0aCwgcnksIHJhZGlhbnMpLHJvdGF0ZVBvaW50KGNlbnRlclgsIGNlbnRlclksIHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0LCByYWRpYW5zKSxyb3RhdGVQb2ludChjZW50ZXJYLCBjZW50ZXJZLCByeCwgcnkgKyBoZWlnaHQsIHJhZGlhbnMpLF07ZnVuY3Rpb24gY3Jvc3NQcm9kdWN0KEEsIEIsIFApIHtyZXR1cm4gKEIueCAtIEEueCkgKiAoUC55IC0gQS55KSAtIChCLnkgLSBBLnkpICogKFAueCAtIEEueCk7fWZvciAobGV0IGkgPSAwOyBpIDwgY29ybmVycy5sZW5ndGg7IGkrKykge2NvbnN0IEEgPSBjb3JuZXJzW2ldO2NvbnN0IEIgPSBjb3JuZXJzWyhpICsgMSkgJSBjb3JuZXJzLmxlbmd0aF07Y29uc3QgY3Jvc3MgPSBjcm9zc1Byb2R1Y3QoQSwgQiwgeyB4OiBweCwgeTogcHkgfSk7aWYgKGNyb3NzIDwgMCkge3JldHVybiBmYWxzZTt9fXJldHVybiB0cnVlO30KLy8gdHJpZyBmdW5jdGlvbnM6CmZ1bmN0aW9uIGxlbmd0aGRpcl94KF9sZW5ndGgsIF9kaXJlY3Rpb24pIHsgcmV0dXJuIF9sZW5ndGggKiBNYXRoLmNvcyhfZGlyZWN0aW9uICogdHVfZDJyKTsgfQpmdW5jdGlvbiBsZW5ndGhkaXJfeShfbGVuZ3RoLCBfZGlyZWN0aW9uKSB7IHJldHVybiBfbGVuZ3RoICogTWF0aC5zaW4oX2RpcmVjdGlvbiAqIHR1X2Qycik7IH0KZnVuY3Rpb24gcG9pbnRfZGlzdGFuY2UoX3gxLCBfeTEsIF94MiwgX3kyKSB7IHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coKCBfeDEgLSBfeDIpLCAyKSArIE1hdGgucG93KChfeTEgLSBfeTIpLCAyKSk7IH0KZnVuY3Rpb24gcG9pbnRfZGlyZWN0aW9uKF94MSwgX3kxLCBfeDIsIF95MikgeyByZXR1cm4gTWF0aC5hdGFuMihfeTIgLSBfeTEsIF94MiAtIF94MSkgKiB0dV9yMmQ7IH0KZnVuY3Rpb24gZGVndG9yYWQoX2RlZ3JlZSkgeyByZXR1cm4gX2RlZ3JlZSAqIHR1X2QycjsgfQpmdW5jdGlvbiByYWR0b2RlZyhfZGVncmVlKSB7IHJldHVybiBfZGVncmVlICogdHVfcjJkOyB9Ci8vIGtleWJvYXJkIGZ1bmN0aW9uczoKZnVuY3Rpb24ga2V5Ym9hcmRfY2hlY2soX2tleSkgeyByZXR1cm4ga2V5X2Rvd25bX2tleV07IH0KZnVuY3Rpb24ga2V5Ym9hcmRfY2hlY2tfcHJlc3NlZChfa2V5KSB7IHJldHVybiBrZXlfcHJlc3NlZFtfa2V5XTsgfQpmdW5jdGlvbiBrZXlib2FyZF9jaGVja19yZWxlYXNlZChfa2V5KSB7IHJldHVybiBrZXlfcmVsZWFzZWRbX2tleV07IH0KLy8gbW91c2UgdG91Y2ggZnVuY3Rpb25zOgpmdW5jdGlvbiBzd2lwZWQoc2Vuc2l0aXZ5KXsKICBsZXQgZGlzID0gc2Vuc2l0aXZ5OwogIGxldCBkaXIgPSAwOwogIGxldCBzd2lwZWQ9bnVsbDsKICBpZiAodHlwZW9mIHN0YXJ0WCA9PSAidW5kZWZpbmVkIikgewogICAgbGV0IHN0YXJ0WCA9IC0xMDA7CiAgICBsZXQgc3RhcnRZPSAtMTAwOwogICAgbGV0IGVuZFggPSAtMTAwOwogICAgbGV0IGVuZFkgPSAtMTAwOwogIH07CiAgaWYobW91c2VfY2hlY2tfcHJlc3NlZCgpKXsKICAgIHN0YXJ0WCA9IG1vdXNlX3g7CiAgICBzdGFydFkgPSBtb3VzZV95OwogIH07CiAgaWYobW91c2VfY2hlY2tfcmVsZWFzZWQoKSl7CiAgICBzd2lwZWQ9J25vbmUnCiAgICBlbmRYID0gbW91c2VfeDsKICAgIGVuZFkgPSBtb3VzZV95OwogICAgaWYocG9pbnRfZGlzdGFuY2Uoc3RhcnRYLHN0YXJ0WSxlbmRYLGVuZFkpPmRpcyl7CiAgICAgIGRpciA9IHBvaW50X2RpcmVjdGlvbihzdGFydFgsc3RhcnRZLGVuZFgsZW5kWSk7CiAgICBpZihkaXI+NDUgJiYgZGlyPDEzNSl7c3dpcGVkPSd1cCd9OwogICAgaWYoZGlyPD00NSAmJiBkaXI+PS00NSl7c3dpcGVkPSdyaWdodCd9OwogICAgaWYoZGlyPC00NSAmJiBkaXI+LTEzNSl7c3dpcGVkPSdkb3duJ307CiAgICBpZihkaXI+PTEzNSB8fCBkaXI8PS0xMzUpe3N3aXBlZD0nbGVmdCd9OwogICAgfTsKICB9OwogIHJldHVybiBzd2lwZWQ7Cn07CgpmdW5jdGlvbiBtb3VzZV9jaGVjaygpIHsgcmV0dXJuIG1vdXNlX2Rvd247IH0KZnVuY3Rpb24gbW91c2VfY2hlY2tfcHJlc3NlZCgpIHsgcmV0dXJuIG1vdXNlX3ByZXNzZWQ7IH0KZnVuY3Rpb24gbW91c2VfY2hlY2tfcmVsZWFzZWQoKSB7IHJldHVybiBtb3VzZV9yZWxlYXNlZDsgfQovL3NldHMgdXAgY2FudmFzIHZhcmlhYmxlcwp2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpOwp2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CmZ1bmN0aW9uIGtEb3duKGUpewogIGlmKGUucmVwZWF0KXsKICAgIHJldHVybjsKICB9CiAgdmtfYWxsX2tleXMucHVzaChlLmtleSkKICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZTsKICBpZiAoIWtleV9kb3duW2tleUNvZGVdKSB7CiAgICBrZXlfcHJlc3NlZFtrZXlDb2RlXSA9IHRydWU7CiAgICBhbGxfa2V5c19wcmVzc2VkLnB1c2goa2V5Q29kZSk7CiAgfQogIGtleV9kb3duW2tleUNvZGVdID0gdHJ1ZTsKfQpmdW5jdGlvbiBrVXAoZSl7CiAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7CiAgaWYgKGtleV9kb3duW2tleUNvZGVdKQogIHsKICAgIGtleV9yZWxlYXNlZFtrZXlDb2RlXSA9IHRydWU7CiAgICBhbGxfa2V5c19yZWxlYXNlZC5wdXNoKGtleUNvZGUpOwogIH0KICBrZXlfZG93bltrZXlDb2RlXSA9IGZhbHNlOwp9CmZ1bmN0aW9uIG1Eb3duKCl7CiAgaWYgKCFtb3VzZV9kb3duKSB7CiAgICBtb3VzZV9kb3duID0gdHJ1ZTsKICAgIG1vdXNlX3ByZXNzZWQgPSB0cnVlOwogIH1lbHNlewogICAgbW91c2VfZG93biA9IHRydWU7CiAgfQp9CmZ1bmN0aW9uIG1Eb3duKCkgewogIGlmICghbW91c2VfZG93bikgewogICAgbW91c2VfZG93biA9IHRydWU7CiAgICBtb3VzZV9wcmVzc2VkID0gdHJ1ZTsKICB9IGVsc2UgewogICAgbW91c2VfZG93biA9IHRydWU7CiAgfQp9CgpmdW5jdGlvbiBtVXAoKSB7CiAgaWYgKCFtb3VzZV9kb3duKSB7CiAgICBtb3VzZV9kb3duID0gZmFsc2U7CiAgICBtb3VzZV9wcmVzc2VkID0gZmFsc2U7CiAgfSBlbHNlIHsKICAgIG1vdXNlX2Rvd24gPSBmYWxzZTsKICAgIG1vdXNlX3JlbGVhc2VkID0gdHJ1ZTsKICB9Cn0KCmZ1bmN0aW9uIG1Nb3ZlKGUpIHsKICBsZXQgeCwgeTsKICAKICAvLyBDaGVjayBmb3IgdG91Y2ggaW5wdXQKICBpZiAoZS50b3VjaGVzKSB7CiAgICB4ID0gZS50b3VjaGVzWzBdLmNsaWVudFg7CiAgICB5ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7CiAgfQogIC8vIE90aGVyd2lzZSB1c2UgbW91c2UgaW5wdXQKICBlbHNlIGlmIChlLnBhZ2VYICE9IHVuZGVmaW5lZCAmJiBlLnBhZ2VZICE9IHVuZGVmaW5lZCkgewogICAgeCA9IGUucGFnZVg7CiAgICB5ID0gZS5wYWdlWTsKICB9IGVsc2UgewogICAgeCA9IGUuY2xpZW50WCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwogICAgeSA9IGUuY2xpZW50WSArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICB9CiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgLy8vWk9PTSBDT1JSRUNUSU9OCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogIHZhciByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpCiAgbGV0IHNjYWxlWCA9IGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGg7CiAgbGV0IHNjYWxlWSA9IGNhbnZhcy5oZWlnaHQgLyByZWN0LmhlaWdodDsKICBtb3VzZV94ID0gKHggLSBjYW52YXMub2Zmc2V0TGVmdCkqIHNjYWxlWDsKICBtb3VzZV95ID0gKHkgLSBjYW52YXMub2Zmc2V0VG9wKSogc2NhbGVZOwogIGUucHJldmVudERlZmF1bHQoKTsgLy8gUHJldmVudCBzY3JvbGxpbmcgYmVoYXZpb3IKfQpmdW5jdGlvbiB0b3VjaFN0YXJ0KGUpIHsKICBtTW92ZShlKTsKICBtRG93bigpOwp9CgpmdW5jdGlvbiB0b3VjaEVuZChlKSB7CiAgbVVwKCk7Cn0KYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGtEb3duLCBmYWxzZSk7Ly8xNiBpcyBzaGlmdCBlLmtleUNvZGU7CmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwga1VwLCBmYWxzZSk7CmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsbURvd24sZmFsc2UpOwphZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIixtVXAsZmFsc2UpOwphZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLG1Nb3ZlLGZhbHNlKTsKYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB3aGVlbCxmYWxzZSk7Ci8vIEFkZCB0b3VjaCBldmVudCBsaXN0ZW5lcnMgd2l0aCB7IHBhc3NpdmU6IGZhbHNlIH0KYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIHRvdWNoU3RhcnQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7CmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgdG91Y2hFbmQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7CmFkZEV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsIG1Nb3ZlLCB7IHBhc3NpdmU6IGZhbHNlIH0pOwoKZnVuY3Rpb24gd2hlZWwoZSkgewogIGlmIChlLmRlbHRhWSA8IDApIHsKICAgIHdoZWVsRGlyKys7CiAgfSBlbHNlIHsKICAgIHdoZWVsRGlyLS07CiAgfQp9OwovLyBUaGUgbWFpbiBnYW1lIGxvb3AKZnVuY3Rpb24gbWFpbigpIHsKICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICB2YXIgZGVsdGEgPSBub3cgLSB0aGVuOwogIHRpbWVTaGlmdCA9IGRlbHRhIC8gMTAwMAogIEZQUy5wdXNoKE1hdGguZmxvb3IoMS90aW1lU2hpZnQpKTsKICBpZihGUFMubGVuZ3RoPjEwKXsKICAgIGZwcyA9IGF2ZXJhZ2UoRlBTKTsKICAgIEZQUyA9IFtdOwogIH0KICBpZihydW4pewogICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgZHJhdygpOwogIH0KICBsb29wKCk7CiAgCiAgLy9jbGVhcnMga2V5cHJlc3NlcyBhbmQgbW91c2VwcmVzcwogIGZvciAobGV0IF9rID0gMDsgX2sgPCBhbGxfa2V5c19wcmVzc2VkLmxlbmd0aDsgX2srKykga2V5X3ByZXNzZWRbYWxsX2tleXNfcHJlc3NlZFtfa11dID0gZmFsc2U7CiAgZm9yIChsZXQgX2sgPSAwOyBfayA8IGFsbF9rZXlzX3JlbGVhc2VkLmxlbmd0aDsgX2srKykga2V5X3JlbGVhc2VkW2FsbF9rZXlzX3JlbGVhc2VkW19rXV0gPSBmYWxzZTsKICBhbGxfa2V5c19wcmVzc2VkID0gW107IGFsbF9rZXlzX3JlbGVhc2VkID0gW107bW91c2VfcHJlc3NlZCA9IGZhbHNlO21vdXNlX3JlbGVhc2VkID0gZmFsc2U7CiAgCiAgdGhlbiA9IG5vdzsKICAvLyBSZXF1ZXN0IHRvIGRvIHRoaXMgYWdhaW4gQVNBUAogIHJlcXVlc3RBbmltYXRpb25GcmFtZShtYWluKTsKfTsKLy8gQ3Jvc3MtYnJvd3NlciBzdXBwb3J0IGZvciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUKdmFyIHcgPSB3aW5kb3c7CnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHcucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHcud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHcubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7Ci8vIExldCdzIHBsYXkgdGhpcyBnYW1lIQp2YXIgdGhlbiA9IERhdGUubm93KCk7CnN0YXJ0KCk7Cm1haW4oKTsK'></script>

</body>
</html>
